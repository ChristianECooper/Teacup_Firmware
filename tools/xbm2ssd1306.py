# Add your picture in this list
# for example export your bitmap (128x32) in gimp as .xbm
# copy all hex-numbers
# execute this script and put the output in a new array
picture = [0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x80, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x1a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x01, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0xa0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x2c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x7f, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0xd0, 0x49, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x58, 0xbe, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0xd0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x88, 0xa1, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x64, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x01, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x40, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0a, 0xd0, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x0f, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06, 0x50,
   0x55, 0x55, 0x55, 0x55, 0x80, 0x05, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x0d, 0xf8, 0xff, 0xff, 0xff, 0x7f, 0xc0, 0x02, 0x16, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1a, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x40, 0x83, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x16, 0x00,
   0x00, 0x00, 0x00, 0x00, 0xa0, 0xc1, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x2c, 0x40, 0xdb, 0xb6, 0x6d, 0x0b, 0xf0, 0x70, 0x03, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x58, 0x80, 0xaa, 0xaa, 0xaa, 0x0a,
   0x48, 0xdc, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x3c, 0x76, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x60, 0x01, 0x00, 0x00, 0x00, 0x00, 0xd6, 0x19, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x03, 0xfc, 0xff, 0xff, 0x00,
   0x7b, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06,
   0x00, 0x00, 0x00, 0x80, 0xdd, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x40, 0x66, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x00, 0x00, 0x00, 0x70,
   0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x6c,
   0xc0, 0xff, 0x0f, 0x18, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0xd8, 0x00, 0x00, 0x00, 0xec, 0x01, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0, 0x03, 0x00, 0x00, 0x36,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0,
   0x06, 0x00, 0x80, 0x0d, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff,
   0xff, 0xff, 0xff, 0x80, 0xfb, 0xff, 0xff, 0x06, 0xfc, 0xff, 0xff, 0x0f,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x03,
   0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07,
   0xfc, 0xff, 0xff, 0x80, 0xff, 0xff, 0xff, 0x0f]


# reorganize the picture in a new list
new_picture = list()
for i in range(32):
    new_picture.append(picture[(i * 16):(i * 16 + 16)])

# format the picture to binary
# the output of this loop is without '0b'
text = ''
picture = list()
new_row = list()
for row in new_picture:
    for byte in row:
        byte = bin(byte).replace('0b', '')
        byte = (8 - len(byte)) * '0' + byte
        byte = byte[::-1]
        new_row.append(byte)
    picture.append(new_row)
    new_row = list()

# enable debug to see your original picture in the output
debug = False
if debug:
    temp_picture = list()
    ne = ''
    nr = list()
    for row in picture:
        for element in row:
            ne = element.replace('0', ' ')
            ne = ne.replace('1', 'x')
            nr.append(ne)
        temp_picture.append(nr)
        nr = list()
    nt = ''
    for row in temp_picture:
        for text in row:
            nt += text
        print(nt)
        nt = ''

# finally we go through the picture and reformat it
# our input picture is in horizontal mode
# --------
# as output we need 128x8 pixel (byte) four times
# so we have 8 pixel vertical and 128 bytes horizontal
# and this in total 4 times
# ||||||||...|||||||
# ||||||||...|||||||
# and so on
pic = list()
nrow = list()
nbyte = ''

byte = 15
bit = 0
for rowset in range(4):
    for byte in range(16):
        for bit in range(8):
            for rows in range(8):
                nbyte += picture[rows + 8*rowset][byte][bit]
            nrow.append(nbyte)
            nbyte = ''
    pic.append(nrow)
    nrow = list()

# all bits were set and now we want hex numbers again
num = 0
text = ''
for i, row in enumerate(pic):
    for j, byte in enumerate(row):
        for k, bit in enumerate(byte):
            num += int(bit) << k
            # print(num)
        if len(hex(num)) == 3:
            text += hex(num).replace('0x', '0x0')
        else:
            text += hex(num)
        text += ', '
        num = 0
        if not ((j + 1) % 16):
            text += '\n'
    print(text)
    text = ''
